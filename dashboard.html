<!DOCTYPE html>
<html>
<head>
  <title>PHK36 | Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>Welcome to PHK36</h2>
    <p id="userWallet">Loading wallet...</p>
    <button onclick="logout()">Logout</button>
    <h3>Games</h3>
    <ul>
      <li><a href="#">ðŸŽ® Aviator (Coming Soon)</a></li>
      <li><a href="#">ðŸŽ® Wingo</a></li>
      <li><a href="#">ðŸŽ® Mines</a></li>
      <li><a href="#">ðŸŽ® Cricket</a></li>
    </ul>
  </div>

  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
  <script src="firebaseConfig.js"></script>
  <script>
    const auth = firebase.auth();
    const db = firebase.firestore();

    auth.onAuthStateChanged(user => {
      if (!user) {
        window.location.href = "index.html";
      } else {
        db.collection("users").doc(user.uid).get().then(doc => {
          document.getElementById("userWallet").innerText = "Wallet: â‚¹" + doc.data().wallet;
        });
      }
    });

    function logout() {
      auth.signOut().then(() => window.location.href = "index.html");
    }
  </script>
</body>
</html>